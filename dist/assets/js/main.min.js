"use strict";window.addEventListener("DOMContentLoaded",(()=>{let e=document.getElementById("form-submit"),t=document.getElementById("form-clear"),n=document.getElementById("task-descr"),a=document.getElementById("task-date"),s=document.getElementById("task-time"),l=JSON.parse(localStorage.getItem("tasks"))||[];function r(){let e=document.querySelector(".task__container");e.innerHTML="",l.forEach((t=>{let n=`\n                <article class="task__card" id="task-card data-key="${t.id}">\n                    <div class="shape shape__smaller"></div>\n                    <div class="task__close" id="task-delete">\n                        <i class="ri-close-line"></i>\n                    </div>\n\n                    <h3 class="task__title">${t.descr}</h3>\n\n                    <div class="task__assigned">\n                        <i class="ri-timer-2-line"></i>\n                        <h3 class="task__assigned-day" id="adate">${t.date}</h3>\n                        <h3 class="task__assigned-time">${t.time}</h3>                        \n                    </div>    \n                    <h3 class="task__error">not completed</h3>                \n                </article>`;e.insertAdjacentHTML("beforeend",n)})),function(){let e=document.querySelectorAll("#task-delete"),t=document.querySelectorAll(".task__card");e.forEach(((e,n)=>{e.addEventListener("click",(()=>{l[n].timeLeft.total<=0?(l.splice(n,1),localStorage.setItem("tasks",JSON.stringify(l)),r()):t[n].querySelector(".task__error").style.display="block"}))}))}(),document.querySelectorAll(".task__card").forEach((e=>{e.addEventListener("click",(()=>{e.classList.toggle("card-scale")}))}))}function c(e){return e>=0&&e<10?`0${e}`:e}function o(e){const t=Date.parse(e)-Date.parse(new Date);return{total:t,days:Math.floor(t/864e5),hours:Math.floor(t/1e3*60*60%24),minutes:Math.floor(t/1e3/60%60),seconds:Math.floor(t/1e3%60)}}!function(){let e=document.getElementById("ctime"),t=document.getElementById("cdate");setInterval(n,1e3);function n(){let n=new Date,a=n.toLocaleString("en-US",{weekday:"long"}),s=n.toLocaleString("en-US",{month:"long"}),l=c(n.getHours()),r=c(n.getMinutes());e.innerHTML=`${l}:${r}`,t.innerHTML=`${a}, ${s} ${n.getDate()}`}n()}(),t.addEventListener("click",(()=>{document.querySelector("form").reset()})),e.addEventListener("click",(()=>{let e=document.getElementById("msg"),t=new Date(a.value+" "+s.value);n.value&&a.value&&s.value?(e.innerHTML="",l.push({id:l.length,descr:n.value,date:t.getDate()+" "+t.toLocaleString("en-US",{month:"long"}),time:t.getHours()+":"+t.getMinutes(),timeLeft:o(t)}),localStorage.setItem("tasks",JSON.stringify(l)),r(),document.querySelector("form").reset()):e.innerHTML="Please enter task ",document.getElementById("task-descr").focus()})),r()}));